---
import Terminal from './terminal';
---

<div class="min-h-screen text-terminal-text p-8 font-mono theme-container">
  <main class="max-w-3xl mx-auto">
    <header class="mb-8">
      <h1 class="text-2xl font-bold text-terminal-accent">anon@lukapetro.dev:~$</h1>
    </header>
    <section class="space-y-4">
      <Terminal client:load />
    </section>
  </main>
</div>

<style is:global>
  /* Add CSS variables for theme colors */
  .theme-container {
    background-color: var(--theme-background);
    color: var(--theme-text);
  }

  .terminal-container {
    background-color: var(--theme-window);
    border-color: var(--theme-border);
  }

  .terminal-accent {
    color: var(--theme-accent);
  }
</style>

<script>
import { useTheme } from "@/hooks/use-theme";

  const updateThemeVariables = () => {
    const theme = useTheme.getState().currentTheme;
    document.documentElement.style.setProperty('--theme-background', theme.colors.background);
    document.documentElement.style.setProperty('--theme-window', theme.colors.window);
    document.documentElement.style.setProperty('--theme-text', theme.colors.text);
    document.documentElement.style.setProperty('--theme-accent', theme.colors.accent);
    document.documentElement.style.setProperty('--theme-dim', theme.colors.dim);
    document.documentElement.style.setProperty('--theme-border', theme.colors.border);
  };

  useTheme.subscribe(updateThemeVariables);
  updateThemeVariables();
</script>